<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Redmine::Helpers::Gantt
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Redmine::Helpers::Gantt";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (G)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../Redmine.html" title="Redmine (module)">Redmine</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Helpers.html" title="Redmine::Helpers (module)">Helpers</a></span></span>
     &raquo; 
    <span class="title">Gantt</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Redmine::Helpers::Gantt
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Redmine::Helpers::Gantt</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd>ERB::Util, <span class='object_link'><a href="../I18n.html" title="Redmine::I18n (module)">I18n</a></span>, <span class='object_link'><a href="../Utils/DateCalculation.html" title="Redmine::Utils::DateCalculation (module)">Utils::DateCalculation</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/redmine/helpers/gantt.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>Simple class to handle gantt chart data</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>0.8.0</p>
</div>
      
    </li>
  
</ul>

</div><h2>Defined Under Namespace</h2>
<p class="children">
  
    
  
    
      <strong class="classes">Classes:</strong> <span class='object_link'><a href="Gantt/MaxLinesLimitReached.html" title="Redmine::Helpers::Gantt::MaxLinesLimitReached (class)">MaxLinesLimitReached</a></span>, <span class='object_link'><a href="Gantt/PDF.html" title="Redmine::Helpers::Gantt::PDF (class)">PDF</a></span>
    
  
</p>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="DRAW_TYPES-constant" class="">DRAW_TYPES =
          <div class="docstring">
  <div class="discussion">
    
<p>Relation types that are rendered</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='lbrace'>{</span>
  <span class='const'><span class='object_link'><a href="../../IssueRelation.html" title="IssueRelation (class)">IssueRelation</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../IssueRelation.html#TYPE_BLOCKS-constant" title="IssueRelation::TYPE_BLOCKS (constant)">TYPE_BLOCKS</a></span></span>   <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:landscape_margin</span> <span class='op'>=&gt;</span> <span class='int'>16</span><span class='comma'>,</span> <span class='symbol'>:color</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#F34F4F</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span><span class='comma'>,</span>
  <span class='const'><span class='object_link'><a href="../../IssueRelation.html" title="IssueRelation (class)">IssueRelation</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../../IssueRelation.html#TYPE_PRECEDES-constant" title="IssueRelation::TYPE_PRECEDES (constant)">TYPE_PRECEDES</a></span></span> <span class='op'>=&gt;</span> <span class='lbrace'>{</span> <span class='symbol'>:landscape_margin</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span> <span class='symbol'>:color</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#628FEA</span><span class='tstring_end'>&#39;</span></span> <span class='rbrace'>}</span>
<span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_from-instance_method" title="#date_from (instance method)">#<strong>date_from</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute date_from.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#date_to-instance_method" title="#date_to (instance method)">#<strong>date_to</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute date_to.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#max_rows-instance_method" title="#max_rows (instance method)">#<strong>max_rows</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute max_rows.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#month_from-instance_method" title="#month_from (instance method)">#<strong>month_from</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute month_from.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#months-instance_method" title="#months (instance method)">#<strong>months</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute months.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#project-instance_method" title="#project (instance method)">#<strong>project</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute project.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#query-instance_method" title="#query (instance method)">#<strong>query</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute query.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#truncated-instance_method" title="#truncated (instance method)">#<strong>truncated</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute truncated.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#view-instance_method" title="#view (instance method)">#<strong>view</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute view.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#year_from-instance_method" title="#year_from (instance method)">#<strong>year_from</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute year_from.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#zoom-instance_method" title="#zoom (instance method)">#<strong>zoom</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute zoom.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#common_params-instance_method" title="#common_params (instance method)">#<strong>common_params</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#decrement_indent-instance_method" title="#decrement_indent (instance method)">#<strong>decrement_indent</strong>(options, factor = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#increment_indent-instance_method" title="#increment_indent (instance method)">#<strong>increment_indent</strong>(options, factor = 1)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(options = {})  &#x21d2; Gantt </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of Gantt.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#issues-instance_method" title="#issues (instance method)">#<strong>issues</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns issues that will be rendered.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line-instance_method" title="#line (instance method)">#<strong>line</strong>(start_date, end_date, done_ratio, markers, label, options, object = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_for_issue-instance_method" title="#line_for_issue (instance method)">#<strong>line_for_issue</strong>(issue, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_for_project-instance_method" title="#line_for_project (instance method)">#<strong>line_for_project</strong>(project, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#line_for_version-instance_method" title="#line_for_version (instance method)">#<strong>line_for_version</strong>(version, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#lines-instance_method" title="#lines (instance method)">#<strong>lines</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Renders the lines of the Gantt chart, the right side.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#number_of_rows-instance_method" title="#number_of_rows (instance method)">#<strong>number_of_rows</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the number of rows that will be rendered on the Gantt chart.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#number_of_rows_on_project-instance_method" title="#number_of_rows_on_project (instance method)">#<strong>number_of_rows_on_project</strong>(project)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the number of rows that will be used to list a project on the Gantt
chart.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#params-instance_method" title="#params (instance method)">#<strong>params</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#params_next-instance_method" title="#params_next (instance method)">#<strong>params_next</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#params_previous-instance_method" title="#params_previous (instance method)">#<strong>params_previous</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project_issues-instance_method" title="#project_issues (instance method)">#<strong>project_issues</strong>(project)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the issues that belong to <code>project</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#project_versions-instance_method" title="#project_versions (instance method)">#<strong>project_versions</strong>(project)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the distinct versions of the issues that belong to
<code>project</code>.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#projects-instance_method" title="#projects (instance method)">#<strong>projects</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Return all the project nodes that will be displayed.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#relations-instance_method" title="#relations (instance method)">#<strong>relations</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a hash of the relations between the issues that are present on the
gantt and that should be displayed, grouped by issue ids.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render-instance_method" title="#render (instance method)">#<strong>render</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_end-instance_method" title="#render_end (instance method)">#<strong>render_end</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_issues-instance_method" title="#render_issues (instance method)">#<strong>render_issues</strong>(issues, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_object_row-instance_method" title="#render_object_row (instance method)">#<strong>render_object_row</strong>(object, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_project-instance_method" title="#render_project (instance method)">#<strong>render_project</strong>(project, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_version-instance_method" title="#render_version (instance method)">#<strong>render_version</strong>(project, version, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject-instance_method" title="#subject (instance method)">#<strong>subject</strong>(label, options, object = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_for_issue-instance_method" title="#subject_for_issue (instance method)">#<strong>subject_for_issue</strong>(issue, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_for_project-instance_method" title="#subject_for_project (instance method)">#<strong>subject_for_project</strong>(project, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subject_for_version-instance_method" title="#subject_for_version (instance method)">#<strong>subject_for_version</strong>(version, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#subjects-instance_method" title="#subjects (instance method)">#<strong>subjects</strong>(options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Renders the subjects of the Gantt chart, the left side.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_image-instance_method" title="#to_image (instance method)">#<strong>to_image</strong>(format = &#39;PNG&#39;)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Generates a gantt image Only defined if RMagick is avalaible.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#to_pdf-instance_method" title="#to_pdf (instance method)">#<strong>to_pdf</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#version_issues-instance_method" title="#version_issues (instance method)">#<strong>version_issues</strong>(project, version)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the issues that belong to <code>project</code> and are assigned to
<code>version</code>.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Utils/DateCalculation.html" title="Redmine::Utils::DateCalculation (module)">Utils::DateCalculation</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Utils/DateCalculation.html#add_working_days-instance_method" title="Redmine::Utils::DateCalculation#add_working_days (method)">#add_working_days</a></span>, <span class='object_link'><a href="../Utils/DateCalculation.html#next_working_date-instance_method" title="Redmine::Utils::DateCalculation#next_working_date (method)">#next_working_date</a></span>, <span class='object_link'><a href="../Utils/DateCalculation.html#non_working_week_days-instance_method" title="Redmine::Utils::DateCalculation#non_working_week_days (method)">#non_working_week_days</a></span>, <span class='object_link'><a href="../Utils/DateCalculation.html#working_days-instance_method" title="Redmine::Utils::DateCalculation#working_days (method)">#working_days</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../I18n.html" title="Redmine::I18n (module)">I18n</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../I18n.html#current_language-instance_method" title="Redmine::I18n#current_language (method)">#current_language</a></span>, <span class='object_link'><a href="../I18n.html#day_letter-instance_method" title="Redmine::I18n#day_letter (method)">#day_letter</a></span>, <span class='object_link'><a href="../I18n.html#day_name-instance_method" title="Redmine::I18n#day_name (method)">#day_name</a></span>, <span class='object_link'><a href="../I18n.html#find_language-instance_method" title="Redmine::I18n#find_language (method)">#find_language</a></span>, <span class='object_link'><a href="../I18n.html#format_date-instance_method" title="Redmine::I18n#format_date (method)">#format_date</a></span>, <span class='object_link'><a href="../I18n.html#format_time-instance_method" title="Redmine::I18n#format_time (method)">#format_time</a></span>, <span class='object_link'><a href="../I18n.html#l-instance_method" title="Redmine::I18n#l (method)">#l</a></span>, <span class='object_link'><a href="../I18n.html#l_hours-instance_method" title="Redmine::I18n#l_hours (method)">#l_hours</a></span>, <span class='object_link'><a href="../I18n.html#l_hours_short-instance_method" title="Redmine::I18n#l_hours_short (method)">#l_hours_short</a></span>, <span class='object_link'><a href="../I18n.html#l_or_humanize-instance_method" title="Redmine::I18n#l_or_humanize (method)">#l_or_humanize</a></span>, <span class='object_link'><a href="../I18n.html#languages_options-instance_method" title="Redmine::I18n#languages_options (method)">#languages_options</a></span>, <span class='object_link'><a href="../I18n.html#ll-instance_method" title="Redmine::I18n#ll (method)">#ll</a></span>, <span class='object_link'><a href="../I18n.html#lu-instance_method" title="Redmine::I18n#lu (method)">#lu</a></span>, <span class='object_link'><a href="../I18n.html#month_name-instance_method" title="Redmine::I18n#month_name (method)">#month_name</a></span>, <span class='object_link'><a href="../I18n.html#set_language_if_valid-instance_method" title="Redmine::I18n#set_language_if_valid (method)">#set_language_if_valid</a></span>, <span class='object_link'><a href="../I18n.html#valid_languages-instance_method" title="Redmine::I18n#valid_languages (method)">#valid_languages</a></span></p>

  <div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(options = {})  &#x21d2; <tt><span class='object_link'><a href="" title="Redmine::Helpers::Gantt (class)">Gantt</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of Gantt</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 52</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&gt;</span><span class='int'>0</span>
    <span class='ivar'>@year_from</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:year</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:month</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:month</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&gt;=</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:month</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span> <span class='op'>&lt;=</span> <span class='int'>12</span>
      <span class='ivar'>@month_from</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:month</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='kw'>else</span>
      <span class='ivar'>@month_from</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='ivar'>@month_from</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span>
    <span class='ivar'>@year_from</span> <span class='op'>||=</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:zoom</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_zoom</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='ivar'>@zoom</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>&lt;</span> <span class='int'>5</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>:</span> <span class='int'>2</span>
  <span class='id identifier rubyid_months'>months</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:months</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_months</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='ivar'>@months</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_months'>months</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_months'>months</span> <span class='op'>&lt;</span> <span class='int'>25</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_months'>months</span> <span class='op'>:</span> <span class='int'>6</span>
  <span class='comment'># Save gantt parameters as user preference (zoom and months count)
</span>  <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_logged?'>logged?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='ivar'>@zoom</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_zoom</span><span class='rbracket'>]</span> <span class='op'>||</span>
        <span class='ivar'>@months</span> <span class='op'>!=</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_months</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_zoom</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pref'>pref</span><span class='lbracket'>[</span><span class='symbol'>:gantt_months</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='ivar'>@zoom</span><span class='comma'>,</span> <span class='ivar'>@months</span>
    <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_preference'>preference</span><span class='period'>.</span><span class='id identifier rubyid_save'>save</span>
  <span class='kw'>end</span>
  <span class='ivar'>@date_from</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Date.html" title="Date (class)">Date</a></span></span><span class='period'>.</span><span class='id identifier rubyid_civil'>civil</span><span class='lparen'>(</span><span class='ivar'>@year_from</span><span class='comma'>,</span> <span class='ivar'>@month_from</span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='ivar'>@date_to</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@date_from</span> <span class='op'>&gt;&gt;</span> <span class='ivar'>@months</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='ivar'>@subjects</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@lines</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span>
  <span class='ivar'>@number_of_rows</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='ivar'>@truncated</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_has_key?'>has_key?</span><span class='lparen'>(</span><span class='symbol'>:max_rows</span><span class='rparen'>)</span>
    <span class='ivar'>@max_rows</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:max_rows</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='ivar'>@max_rows</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Setting.html" title="Setting (class)">Setting</a></span></span><span class='period'>.</span><span class='id identifier rubyid_gantt_items_limit'>gantt_items_limit</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>?</span> <span class='kw'>nil</span> <span class='op'>:</span> <span class='const'><span class='object_link'><a href="../../Setting.html" title="Setting (class)">Setting</a></span></span><span class='period'>.</span><span class='id identifier rubyid_gantt_items_limit'>gantt_items_limit</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="date_from-instance_method">
  
    #<strong>date_from</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute date_from</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_date_from'>date_from</span>
  <span class='ivar'>@date_from</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="date_to-instance_method">
  
    #<strong>date_to</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute date_to</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_date_to'>date_to</span>
  <span class='ivar'>@date_to</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="max_rows-instance_method">
  
    #<strong>max_rows</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute max_rows</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_max_rows'>max_rows</span>
  <span class='ivar'>@max_rows</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="month_from-instance_method">
  
    #<strong>month_from</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute month_from</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_month_from'>month_from</span>
  <span class='ivar'>@month_from</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="months-instance_method">
  
    #<strong>months</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute months</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_months'>months</span>
  <span class='ivar'>@months</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="project=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="project-instance_method">
  
    #<strong>project</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute project</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


49
50
51</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 49</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project'>project</span>
  <span class='ivar'>@project</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="query=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="query-instance_method">
  
    #<strong>query</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute query</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 48</span>

<span class='kw'>def</span> <span class='id identifier rubyid_query'>query</span>
  <span class='ivar'>@query</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="truncated-instance_method">
  
    #<strong>truncated</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute truncated</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_truncated'>truncated</span>
  <span class='ivar'>@truncated</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="view=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="view-instance_method">
  
    #<strong>view</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute view</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 50</span>

<span class='kw'>def</span> <span class='id identifier rubyid_view'>view</span>
  <span class='ivar'>@view</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="year_from-instance_method">
  
    #<strong>year_from</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute year_from</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_year_from'>year_from</span>
  <span class='ivar'>@year_from</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="zoom-instance_method">
  
    #<strong>zoom</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute zoom</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


47
48
49</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 47</span>

<span class='kw'>def</span> <span class='id identifier rubyid_zoom'>zoom</span>
  <span class='ivar'>@zoom</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="common_params-instance_method">
  
    #<strong>common_params</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 88</span>

<span class='kw'>def</span> <span class='id identifier rubyid_common_params'>common_params</span>
  <span class='lbrace'>{</span> <span class='symbol'>:controller</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>gantts</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:action</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>show</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='symbol'>:project_id</span> <span class='op'>=&gt;</span> <span class='ivar'>@project</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="decrement_indent-instance_method">
  
    #<strong>decrement_indent</strong>(options, factor = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


281
282
283</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 281</span>

<span class='kw'>def</span> <span class='id identifier rubyid_decrement_indent'>decrement_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_factor'>factor</span><span class='op'>=</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_increment_indent'>increment_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='op'>-</span><span class='id identifier rubyid_factor'>factor</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="increment_indent-instance_method">
  
    #<strong>increment_indent</strong>(options, factor = 1)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


273
274
275
276
277
278
279</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 273</span>

<span class='kw'>def</span> <span class='id identifier rubyid_increment_indent'>increment_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_factor'>factor</span><span class='op'>=</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent_increment</span><span class='rbracket'>]</span> <span class='op'>*</span> <span class='id identifier rubyid_factor'>factor</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
    <span class='kw'>yield</span>
    <span class='id identifier rubyid_decrement_indent'>decrement_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_factor'>factor</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="issues-instance_method">
  
    #<strong>issues</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns issues that will be rendered</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


139
140
141
142
143
144
145</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 139</span>

<span class='kw'>def</span> <span class='id identifier rubyid_issues'>issues</span>
  <span class='ivar'>@issues</span> <span class='op'>||=</span> <span class='ivar'>@query</span><span class='period'>.</span><span class='id identifier rubyid_issues'>issues</span><span class='lparen'>(</span>
    <span class='symbol'>:include</span> <span class='op'>=&gt;</span> <span class='lbracket'>[</span><span class='symbol'>:assigned_to</span><span class='comma'>,</span> <span class='symbol'>:tracker</span><span class='comma'>,</span> <span class='symbol'>:priority</span><span class='comma'>,</span> <span class='symbol'>:category</span><span class='comma'>,</span> <span class='symbol'>:fixed_version</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='symbol'>:order</span> <span class='op'>=&gt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.lft ASC, </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Issue.html" title="Issue (class)">Issue</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.id ASC</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
    <span class='symbol'>:limit</span> <span class='op'>=&gt;</span> <span class='ivar'>@max_rows</span>
  <span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line-instance_method">
  
    #<strong>line</strong>(start_date, end_date, done_ratio, markers, label, options, object = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


327
328
329
330
331
332</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 327</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_end_date'>end_date</span><span class='comma'>,</span> <span class='id identifier rubyid_done_ratio'>done_ratio</span><span class='comma'>,</span> <span class='id identifier rubyid_markers'>markers</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:zoom</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:g_width</span><span class='rbracket'>]</span> <span class='op'>||=</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:zoom</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_coords'>coords</span> <span class='op'>=</span> <span class='id identifier rubyid_coordinates'>coordinates</span><span class='lparen'>(</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_end_date'>end_date</span><span class='comma'>,</span> <span class='id identifier rubyid_done_ratio'>done_ratio</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:zoom</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:format</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>_task</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_coords'>coords</span><span class='comma'>,</span> <span class='id identifier rubyid_markers'>markers</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_for_issue-instance_method">
  
    #<strong>line_for_issue</strong>(issue, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


314
315
316
317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 314</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line_for_issue'>line_for_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='comment'># Skip issues that don&#39;t have a due_before (due_date or version&#39;s due_date)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Issue.html" title="Issue (class)">Issue</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_due_before'>due_before</span>
    <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_done_ratio'>done_ratio</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_markers'>markers</span> <span class='op'>=</span> <span class='op'>!</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_leaf?'>leaf?</span>
    <span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_due_before'>due_before</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_done_ratio'>done_ratio</span><span class='comma'>,</span> <span class='id identifier rubyid_markers'>markers</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_for_project-instance_method">
  
    #<strong>line_for_project</strong>(project, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


289
290
291
292
293
294
295</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 289</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line_for_project'>line_for_project</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='comment'># Skip projects that don&#39;t have a start_date or due date
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span>
    <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
    <span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span><span class='comma'>,</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="line_for_version-instance_method">
  
    #<strong>line_for_version</strong>(version, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


301
302
303
304
305
306
307
308</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 301</span>

<span class='kw'>def</span> <span class='id identifier rubyid_line_for_version'>line_for_version</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='comment'># Skip versions that don&#39;t have a start_date
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Version.html" title="Version (class)">Version</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span>
    <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_h'>h</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_completed_percent'>completed_percent</span><span class='period'>.</span><span class='id identifier rubyid_to_f'>to_f</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_label'>label</span> <span class='op'>=</span> <span class='id identifier rubyid_h'>h</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> -</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_label'>label</span> <span class='kw'>unless</span> <span class='ivar'>@project</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@project</span> <span class='op'>==</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span>
    <span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span><span class='comma'>,</span>  <span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_completed_percent'>completed_percent</span><span class='comma'>,</span> <span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="lines-instance_method">
  
    #<strong>lines</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Renders the lines of the Gantt chart, the right side</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 133</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lines'>lines</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:only</span> <span class='op'>=&gt;</span> <span class='symbol'>:lines</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@lines_rendered</span>
  <span class='ivar'>@lines</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="number_of_rows-instance_method">
  
    #<strong>number_of_rows</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the number of rows that will be rendered on the Gantt chart</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


110
111
112
113
114</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 110</span>

<span class='kw'>def</span> <span class='id identifier rubyid_number_of_rows'>number_of_rows</span>
  <span class='kw'>return</span> <span class='ivar'>@number_of_rows</span> <span class='kw'>if</span> <span class='ivar'>@number_of_rows</span>
  <span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_projects'>projects</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_total'>total</span><span class='comma'>,</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_total'>total</span> <span class='op'>+=</span> <span class='id identifier rubyid_number_of_rows_on_project'>number_of_rows_on_project</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='rparen'>)</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_rows'>rows</span> <span class='op'>&gt;</span> <span class='ivar'>@max_rows</span> <span class='op'>?</span> <span class='ivar'>@max_rows</span> <span class='op'>:</span> <span class='id identifier rubyid_rows'>rows</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="number_of_rows_on_project-instance_method">
  
    #<strong>number_of_rows_on_project</strong>(project)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the number of rows that will be used to list a project on the Gantt
chart.  This will recurse for each subproject.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_number_of_rows_on_project'>number_of_rows_on_project</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='int'>0</span> <span class='kw'>unless</span> <span class='id identifier rubyid_projects'>projects</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_count'>count</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_count'>count</span> <span class='op'>+=</span> <span class='id identifier rubyid_project_issues'>project_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
  <span class='id identifier rubyid_count'>count</span> <span class='op'>+=</span> <span class='id identifier rubyid_project_versions'>project_versions</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
  <span class='id identifier rubyid_count'>count</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="params-instance_method">
  
    #<strong>params</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 92</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_common_params'>common_params</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:zoom</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='comma'>,</span> <span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_year_from'>year_from</span><span class='comma'>,</span>
                       <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_month_from'>month_from</span><span class='comma'>,</span> <span class='symbol'>:months</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_months'>months</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="params_next-instance_method">
  
    #<strong>params_next</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


103
104
105
106
107</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 103</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params_next'>params_next</span>
  <span class='id identifier rubyid_common_params'>common_params</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>&gt;&gt;</span> <span class='id identifier rubyid_months'>months</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
                       <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>&gt;&gt;</span> <span class='id identifier rubyid_months'>months</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='comma'>,</span>
                       <span class='symbol'>:zoom</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='comma'>,</span> <span class='symbol'>:months</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_months'>months</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="params_previous-instance_method">
  
    #<strong>params_previous</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


97
98
99
100
101</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 97</span>

<span class='kw'>def</span> <span class='id identifier rubyid_params_previous'>params_previous</span>
  <span class='id identifier rubyid_common_params'>common_params</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='symbol'>:year</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_months'>months</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='comma'>,</span>
                       <span class='symbol'>:month</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_months'>months</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='comma'>,</span>
                       <span class='symbol'>:zoom</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='comma'>,</span> <span class='symbol'>:months</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_months'>months</span><span class='rbrace'>}</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project_issues-instance_method">
  
    #<strong>project_issues</strong>(project)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the issues that belong to <code>project</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


179
180
181
182</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 179</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project_issues'>project_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='ivar'>@issues_by_project</span> <span class='op'>||=</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_group_by'>group_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:project</span><span class='rparen'>)</span>
  <span class='ivar'>@issues_by_project</span><span class='lbracket'>[</span><span class='id identifier rubyid_project'>project</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="project_versions-instance_method">
  
    #<strong>project_versions</strong>(project)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the distinct versions of the issues that belong to
<code>project</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_project_versions'>project_versions</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_project_issues'>project_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:fixed_version</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_compact'>compact</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="projects-instance_method">
  
    #<strong>projects</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Return all the project nodes that will be displayed</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_projects'>projects</span>
  <span class='kw'>return</span> <span class='ivar'>@projects</span> <span class='kw'>if</span> <span class='ivar'>@projects</span>
  <span class='id identifier rubyid_ids'>ids</span> <span class='op'>=</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:id</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_ids'>ids</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='comment'># All issues projects and their visible ancestors
</span>    <span class='ivar'>@projects</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_visible'>visible</span><span class='period'>.</span>
      <span class='id identifier rubyid_joins'>joins</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LEFT JOIN </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'> child ON </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.lft &lt;= child.lft AND </span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.rgt &gt;= child.rgt</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>child.id IN (?)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_ids'>ids</span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_order'>order</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_table_name'>table_name</span><span class='embexpr_end'>}</span><span class='tstring_content'>.lft ASC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_uniq'>uniq</span><span class='period'>.</span>
      <span class='id identifier rubyid_to_a'>to_a</span>
  <span class='kw'>else</span>
    <span class='ivar'>@projects</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="relations-instance_method">
  
    #<strong>relations</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a hash of the relations between the issues that are present on the
gantt and that should be displayed, grouped by issue ids.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>2.3.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


149
150
151
152
153
154
155
156
157
158
159</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 149</span>

<span class='kw'>def</span> <span class='id identifier rubyid_relations'>relations</span>
  <span class='kw'>return</span> <span class='ivar'>@relations</span> <span class='kw'>if</span> <span class='ivar'>@relations</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_issue_ids'>issue_ids</span> <span class='op'>=</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:id</span><span class='rparen'>)</span>
    <span class='ivar'>@relations</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../IssueRelation.html" title="IssueRelation (class)">IssueRelation</a></span></span><span class='period'>.</span>
      <span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='symbol'>:issue_from_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_issue_ids'>issue_ids</span><span class='comma'>,</span> <span class='symbol'>:issue_to_id</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_issue_ids'>issue_ids</span><span class='comma'>,</span> <span class='symbol'>:relation_type</span> <span class='op'>=&gt;</span> <span class='const'><span class='object_link'><a href="#DRAW_TYPES-constant" title="Redmine::Helpers::Gantt::DRAW_TYPES (constant)">DRAW_TYPES</a></span></span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span><span class='rparen'>)</span><span class='period'>.</span>
      <span class='id identifier rubyid_group_by'>group_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:issue_from_id</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='ivar'>@relations</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render-instance_method">
  
    #<strong>render</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='symbol'>:top</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:top_increment</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span>
             <span class='symbol'>:indent_increment</span> <span class='op'>=&gt;</span> <span class='int'>20</span><span class='comma'>,</span> <span class='symbol'>:render</span> <span class='op'>=&gt;</span> <span class='symbol'>:subject</span><span class='comma'>,</span>
             <span class='symbol'>:format</span> <span class='op'>=&gt;</span> <span class='symbol'>:html</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_indent'>indent</span> <span class='op'>=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>4</span>
  <span class='ivar'>@subjects</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:lines</span>
  <span class='ivar'>@lines</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:subjects</span>
  <span class='ivar'>@number_of_rows</span> <span class='op'>=</span> <span class='int'>0</span>
  <span class='kw'>begin</span>
    <span class='const'><span class='object_link'><a href="../../Project.html" title="Project (class)">Project</a></span></span><span class='period'>.</span><span class='id identifier rubyid_project_tree'><span class='object_link'><a href="../../Project.html#project_tree-class_method" title="Project.project_tree (method)">project_tree</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_projects'>projects</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='op'>|</span>
      <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_indent'>indent</span> <span class='op'>+</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>*</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:indent_increment</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_render_project'>render_project</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>rescue</span> <span class='const'><span class='object_link'><a href="Gantt/MaxLinesLimitReached.html" title="Redmine::Helpers::Gantt::MaxLinesLimitReached (class)">MaxLinesLimitReached</a></span></span>
    <span class='ivar'>@truncated</span> <span class='op'>=</span> <span class='kw'>true</span>
  <span class='kw'>end</span>
  <span class='ivar'>@subjects_rendered</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:lines</span>
  <span class='ivar'>@lines_rendered</span> <span class='op'>=</span> <span class='kw'>true</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:subjects</span>
  <span class='id identifier rubyid_render_end'>render_end</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_end-instance_method">
  
    #<strong>render_end</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


266
267
268
269
270
271</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 266</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_end'>render_end</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:format</span><span class='rbracket'>]</span>
  <span class='kw'>when</span> <span class='symbol'>:pdf</span>
    <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:pdf</span><span class='rbracket'>]</span><span class='period'>.</span><span class='const'>Line</span><span class='lparen'>(</span><span class='int'>15</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:top</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='const'><span class='object_link'><a href="Gantt/PDF.html" title="Redmine::Helpers::Gantt::PDF (class)">PDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Gantt/PDF.html#TotalWidth-constant" title="Redmine::Helpers::Gantt::PDF::TotalWidth (constant)">TotalWidth</a></span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:top</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_issues-instance_method">
  
    #<strong>render_issues</strong>(issues, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_issues'>render_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_sort_issues!'>sort_issues!</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ancestors'>ancestors</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='op'>|</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_is_descendant_of?'>is_descendant_of?</span><span class='lparen'>(</span><span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
      <span class='id identifier rubyid_decrement_indent'>decrement_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_render_object_row'>render_object_row</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_leaf?'>leaf?</span>
      <span class='id identifier rubyid_ancestors'>ancestors</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_issue'>issue</span>
      <span class='id identifier rubyid_increment_indent'>increment_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_decrement_indent'>decrement_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_object_row-instance_method">
  
    #<strong>render_object_row</strong>(object, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_object_row'>render_object_row</span><span class='lparen'>(</span><span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_class_name'>class_name</span> <span class='op'>=</span> <span class='id identifier rubyid_object'>object</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>subject_for_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_class_name'>class_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:lines</span>
  <span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>line_for_</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_class_name'>class_name</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:only</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='symbol'>:subjects</span>
  <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:top</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:top_increment</span><span class='rbracket'>]</span>
  <span class='ivar'>@number_of_rows</span> <span class='op'>+=</span> <span class='int'>1</span>
  <span class='kw'>if</span> <span class='ivar'>@max_rows</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@number_of_rows</span> <span class='op'>&gt;=</span> <span class='ivar'>@max_rows</span>
    <span class='id identifier rubyid_raise'>raise</span> <span class='const'><span class='object_link'><a href="Gantt/MaxLinesLimitReached.html" title="Redmine::Helpers::Gantt::MaxLinesLimitReached (class)">MaxLinesLimitReached</a></span></span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_project-instance_method">
  
    #<strong>render_project</strong>(project, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


215
216
217
218
219
220
221
222
223
224
225
226
227
228</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 215</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_project'>render_project</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render_object_row'>render_object_row</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_increment_indent'>increment_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='comment'># render issue that are not assigned to a version
</span>    <span class='id identifier rubyid_issues'>issues</span> <span class='op'>=</span> <span class='id identifier rubyid_project_issues'>project_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_fixed_version'>fixed_version</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_render_issues'>render_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='comment'># then render project versions and their issues
</span>    <span class='id identifier rubyid_versions'>versions</span> <span class='op'>=</span> <span class='id identifier rubyid_project_versions'>project_versions</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_class'>class</span><span class='period'>.</span><span class='id identifier rubyid_sort_versions!'>sort_versions!</span><span class='lparen'>(</span><span class='id identifier rubyid_versions'>versions</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_versions'>versions</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_version'>version</span><span class='op'>|</span>
      <span class='id identifier rubyid_render_version'>render_version</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_version-instance_method">
  
    #<strong>render_version</strong>(project, version, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


230
231
232
233
234
235
236</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 230</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_version'>render_version</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render_object_row'>render_object_row</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_increment_indent'>increment_indent</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_issues'>issues</span> <span class='op'>=</span> <span class='id identifier rubyid_version_issues'>version_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_render_issues'>render_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject-instance_method">
  
    #<strong>subject</strong>(label, options, object = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject'>subject</span><span class='lparen'>(</span><span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_send'>send</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:format</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>_subject</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_label'>label</span><span class='comma'>,</span> <span class='id identifier rubyid_object'>object</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_for_issue-instance_method">
  
    #<strong>subject_for_issue</strong>(issue, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


310
311
312</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 310</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_for_issue'>subject_for_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subject'>subject</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_for_project-instance_method">
  
    #<strong>subject_for_project</strong>(project, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


285
286
287</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 285</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_for_project'>subject_for_project</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subject'>subject</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subject_for_version-instance_method">
  
    #<strong>subject_for_version</strong>(version, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


297
298
299</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 297</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subject_for_version'>subject_for_version</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subject'>subject</span><span class='lparen'>(</span><span class='id identifier rubyid_version'>version</span><span class='period'>.</span><span class='id identifier rubyid_to_s_with_project'>to_s_with_project</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="subjects-instance_method">
  
    #<strong>subjects</strong>(options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Renders the subjects of the Gantt chart, the left side.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


127
128
129
130</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 127</span>

<span class='kw'>def</span> <span class='id identifier rubyid_subjects'>subjects</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_merge'>merge</span><span class='lparen'>(</span><span class='symbol'>:only</span> <span class='op'>=&gt;</span> <span class='symbol'>:subjects</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>unless</span> <span class='ivar'>@subjects_rendered</span>
  <span class='ivar'>@subjects</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_image-instance_method">
  
    #<strong>to_image</strong>(format = &#39;PNG&#39;)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Generates a gantt image Only defined if RMagick is avalaible</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358
359
360
361
362
363
364
365
366
367
368
369
370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 336</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_image'>to_image</span><span class='lparen'>(</span><span class='id identifier rubyid_format'>format</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>PNG</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@date_from</span> <span class='op'>&gt;&gt;</span> <span class='ivar'>@months</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='int'>1</span>
  <span class='id identifier rubyid_show_weeks'>show_weeks</span> <span class='op'>=</span> <span class='ivar'>@zoom</span> <span class='op'>&gt;</span> <span class='int'>1</span>
  <span class='id identifier rubyid_show_days'>show_days</span> <span class='op'>=</span> <span class='ivar'>@zoom</span> <span class='op'>&gt;</span> <span class='int'>2</span>
  <span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>=</span> <span class='int'>400</span>
  <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>=</span> <span class='int'>18</span>
  <span class='comment'># width of one day in pixels
</span>  <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>=</span> <span class='ivar'>@zoom</span> <span class='op'>*</span> <span class='int'>2</span>
  <span class='id identifier rubyid_g_width'>g_width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='ivar'>@date_to</span> <span class='op'>-</span> <span class='ivar'>@date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
  <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>=</span> <span class='int'>20</span> <span class='op'>*</span> <span class='id identifier rubyid_number_of_rows'>number_of_rows</span> <span class='op'>+</span> <span class='int'>30</span>
  <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_show_weeks'>show_weeks</span> <span class='op'>?</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>:</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>+</span> <span class='id identifier rubyid_headers_height'>headers_height</span>
  <span class='id identifier rubyid_imgl'>imgl</span> <span class='op'>=</span> <span class='const'>Magick</span><span class='op'>::</span><span class='const'>ImageList</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_imgl'>imgl</span><span class='period'>.</span><span class='id identifier rubyid_new_image'>new_image</span><span class='lparen'>(</span><span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>+</span> <span class='id identifier rubyid_g_width'>g_width</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span> <span class='op'>=</span> <span class='const'>Magick</span><span class='op'>::</span><span class='const'>Draw</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_font'>font</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../Redmine.html" title="Redmine (module)">Redmine</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Configuration.html" title="Redmine::Configuration (module)">Configuration</a></span></span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>rmagick_font_path</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='comment'># Subjects
</span>  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transparent</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subjects'>subjects</span><span class='lparen'>(</span><span class='symbol'>:image</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_gc'>gc</span><span class='comma'>,</span> <span class='symbol'>:top</span> <span class='op'>=&gt;</span> <span class='lparen'>(</span><span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>+</span> <span class='int'>20</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='symbol'>:indent</span> <span class='op'>=&gt;</span> <span class='int'>4</span><span class='comma'>,</span> <span class='symbol'>:format</span> <span class='op'>=&gt;</span> <span class='symbol'>:image</span><span class='rparen'>)</span>
  <span class='comment'># Months headers
</span>  <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>=</span> <span class='ivar'>@date_from</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
  <span class='ivar'>@months</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>&gt;&gt;</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_month_f'>month_f</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grey</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transparent</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span> <span class='op'>+</span> <span class='int'>8</span><span class='comma'>,</span> <span class='int'>14</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_month_f'>month_f</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_month_f'>month_f</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
    <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>=</span> <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>&gt;&gt;</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='comment'># Weeks headers
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_show_weeks'>show_weeks</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
    <span class='kw'>if</span> <span class='ivar'>@date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='comment'># date_from is monday
</span>      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='id identifier rubyid_date_from'>date_from</span>
    <span class='kw'>else</span>
      <span class='comment'># find next monday after date_from
</span>      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='ivar'>@date_from</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>7</span> <span class='op'>-</span> <span class='ivar'>@date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>7</span> <span class='op'>-</span> <span class='ivar'>@date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grey</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='comma'>,</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>+</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
    <span class='kw'>end</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_date_to'>date_to</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>6</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_date_to'>date_to</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>7</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>:</span> <span class='lparen'>(</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grey</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span><span class='comma'>,</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='comma'>,</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>+</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transparent</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_text'>text</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_round'>round</span> <span class='op'>+</span> <span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>+</span> <span class='int'>14</span><span class='comma'>,</span> <span class='id identifier rubyid_week_f'>week_f</span><span class='period'>.</span><span class='id identifier rubyid_cweek'>cweek</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>7</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># Days details (week-end in grey)
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_show_days'>show_days</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>+</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>-</span> <span class='int'>1</span>
    <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='ivar'>@date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='ivar'>@date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span>  <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='id identifier rubyid_non_working_week_days'>non_working_week_days</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_wday'>wday</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#eee</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>white</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>#ddd</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='comma'>,</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>+</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>+</span> <span class='int'>1</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>&gt;</span> <span class='int'>7</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># border
</span>  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_fill'>fill</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transparent</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>grey</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke_width'>stroke_width</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>+</span> <span class='id identifier rubyid_g_width'>g_width</span><span class='comma'>,</span> <span class='id identifier rubyid_headers_height'>headers_height</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>black</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_rectangle'>rectangle</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>+</span> <span class='id identifier rubyid_g_width'>g_width</span><span class='comma'>,</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>+</span> <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='comment'># content
</span>  <span class='id identifier rubyid_top'>top</span> <span class='op'>=</span> <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>+</span> <span class='int'>20</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>transparent</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_lines'>lines</span><span class='lparen'>(</span><span class='symbol'>:image</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_gc'>gc</span><span class='comma'>,</span> <span class='symbol'>:top</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_top'>top</span><span class='comma'>,</span> <span class='symbol'>:zoom</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='comma'>,</span>
        <span class='symbol'>:subject_width</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_subject_width'>subject_width</span><span class='comma'>,</span> <span class='symbol'>:format</span> <span class='op'>=&gt;</span> <span class='symbol'>:image</span><span class='rparen'>)</span>
  <span class='comment'># today red line
</span>  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span> <span class='op'>&gt;=</span> <span class='ivar'>@date_from</span> <span class='kw'>and</span> <span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span> <span class='op'>&lt;=</span> <span class='id identifier rubyid_date_to'>date_to</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_stroke'>stroke</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>red</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span> <span class='op'>-</span> <span class='ivar'>@date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>+</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_headers_height'>headers_height</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>+</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>-</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_gc'>gc</span><span class='period'>.</span><span class='id identifier rubyid_draw'>draw</span><span class='lparen'>(</span><span class='id identifier rubyid_imgl'>imgl</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_imgl'>imgl</span><span class='period'>.</span><span class='id identifier rubyid_format'>format</span> <span class='op'>=</span> <span class='id identifier rubyid_format'>format</span>
  <span class='id identifier rubyid_imgl'>imgl</span><span class='period'>.</span><span class='id identifier rubyid_to_blob'>to_blob</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="to_pdf-instance_method">
  
    #<strong>to_pdf</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.1.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516
517
518
519
520
521
522
523
524
525
526
527
528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 441</span>

<span class='kw'>def</span> <span class='id identifier rubyid_to_pdf'>to_pdf</span>
  <span class='id identifier rubyid_pdf'>pdf</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../../Redmine.html" title="Redmine (module)">Redmine</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Export.html" title="Redmine::Export (module)">Export</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Export/PDF.html" title="Redmine::Export::PDF (module)">PDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Export/PDF/ITCPDF.html" title="Redmine::Export::PDF::ITCPDF (class)">ITCPDF</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Export/PDF/ITCPDF.html#initialize-instance_method" title="Redmine::Export::PDF::ITCPDF#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_current_language'>current_language</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetTitle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_gantt</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_alias_nb_pages'>alias_nb_pages</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_footer_date'>footer_date</span> <span class='op'>=</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>AddPage</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>12</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='int'>15</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Gantt/PDF.html" title="Redmine::Helpers::Gantt::PDF (class)">PDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Gantt/PDF.html#LeftPaneWidth-constant" title="Redmine::Helpers::Gantt::PDF::LeftPaneWidth (constant)">LeftPaneWidth</a></span></span><span class='comma'>,</span> <span class='int'>20</span><span class='comma'>,</span> <span class='id identifier rubyid_project'>project</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>Ln</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>9</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Gantt/PDF.html" title="Redmine::Helpers::Gantt::PDF (class)">PDF</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Gantt/PDF.html#LeftPaneWidth-constant" title="Redmine::Helpers::Gantt::PDF::LeftPaneWidth (constant)">LeftPaneWidth</a></span></span>
  <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>=</span> <span class='int'>5</span>
  <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
  <span class='id identifier rubyid_show_weeks'>show_weeks</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_show_days'>show_days</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_months'>months</span> <span class='op'>&lt;</span> <span class='int'>7</span>
    <span class='id identifier rubyid_show_weeks'>show_weeks</span> <span class='op'>=</span> <span class='kw'>true</span>
    <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>=</span> <span class='int'>2</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span>
    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_months'>months</span> <span class='op'>&lt;</span> <span class='int'>3</span>
      <span class='id identifier rubyid_show_days'>show_days</span> <span class='op'>=</span> <span class='kw'>true</span>
      <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>=</span> <span class='int'>3</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span>
      <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_months'>months</span> <span class='op'>&lt;</span> <span class='int'>2</span>
        <span class='id identifier rubyid_show_day_num'>show_day_num</span> <span class='op'>=</span> <span class='kw'>true</span>
        <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>=</span> <span class='int'>4</span> <span class='op'>*</span> <span class='id identifier rubyid_header_height'>header_height</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_g_width'>g_width</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="Gantt/PDF.html" title="Redmine::Helpers::Gantt::PDF (class)">PDF</a></span></span><span class='period'>.</span><span class='id identifier rubyid_right_pane_width'><span class='object_link'><a href="Gantt/PDF.html#right_pane_width-class_method" title="Redmine::Helpers::Gantt::PDF.right_pane_width (method)">right_pane_width</a></span></span>
  <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_g_width'>g_width</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>=</span> <span class='int'>120</span>
  <span class='id identifier rubyid_t_height'>t_height</span> <span class='op'>=</span> <span class='id identifier rubyid_g_height'>g_height</span> <span class='op'>+</span> <span class='id identifier rubyid_headers_height'>headers_height</span>
  <span class='id identifier rubyid_y_start'>y_start</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>GetY</span>
  <span class='comment'># Months headers
</span>  <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
  <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_months'>months</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>&gt;&gt;</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>-</span> <span class='id identifier rubyid_month_f'>month_f</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_month_f'>month_f</span><span class='period'>.</span><span class='id identifier rubyid_year'>year</span><span class='embexpr_end'>}</span><span class='tstring_content'>-</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_month_f'>month_f</span><span class='period'>.</span><span class='id identifier rubyid_month'>month</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
    <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>=</span> <span class='id identifier rubyid_month_f'>month_f</span> <span class='op'>&gt;&gt;</span> <span class='int'>1</span>
  <span class='kw'>end</span>
  <span class='comment'># Weeks headers
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_show_weeks'>show_weeks</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
    <span class='kw'>if</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='comment'># self.date_from is monday
</span>      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span>
    <span class='kw'>else</span>
      <span class='comment'># find next monday after self.date_from
</span>      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>+</span> <span class='lparen'>(</span><span class='int'>7</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='int'>7</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='op'>-</span><span class='int'>1</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span> <span class='op'>+</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span> <span class='op'>+</span> <span class='int'>1</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>+</span> <span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='kw'>while</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>&lt;=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>6</span> <span class='op'>&lt;=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>7</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span> <span class='op'>:</span> <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span> <span class='op'>*</span> <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span> <span class='op'>+</span> <span class='id identifier rubyid_header_height'>header_height</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span> <span class='op'>&gt;=</span> <span class='int'>5</span> <span class='op'>?</span> <span class='id identifier rubyid_week_f'>week_f</span><span class='period'>.</span><span class='id identifier rubyid_cweek'>cweek</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>=</span> <span class='id identifier rubyid_week_f'>week_f</span> <span class='op'>+</span> <span class='int'>7</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># Day numbers headers
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_show_day_num'>show_day_num</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
    <span class='id identifier rubyid_day_num'>day_num</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span>
    <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>7</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span> <span class='op'>+</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>*</span> <span class='int'>2</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetTextColor</span><span class='lparen'>(</span><span class='id identifier rubyid_non_working_week_days'>non_working_week_days</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_wday'>wday</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>150</span> <span class='op'>:</span> <span class='int'>0</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_day_num'>day_num</span><span class='period'>.</span><span class='id identifier rubyid_day'>day</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_day_num'>day_num</span> <span class='op'>=</span> <span class='id identifier rubyid_day_num'>day_num</span> <span class='op'>+</span> <span class='int'>1</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>+</span> <span class='int'>1</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>&gt;</span> <span class='int'>7</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># Days headers
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_show_days'>show_days</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_subject_width'>subject_width</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_header_height'>header_height</span>
    <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span><span class='period'>.</span><span class='id identifier rubyid_cwday'>cwday</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>7</span><span class='rparen'>)</span>
    <span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_to'>date_to</span> <span class='op'>-</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_date_from'>date_from</span> <span class='op'>+</span> <span class='int'>1</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_width'>width</span> <span class='op'>=</span> <span class='id identifier rubyid_zoom'>zoom</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span> <span class='op'>+</span> <span class='id identifier rubyid_header_height'>header_height</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_show_day_num'>show_day_num</span> <span class='op'>?</span> <span class='int'>3</span> <span class='op'>:</span> <span class='int'>2</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='id identifier rubyid_left'>left</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetTextColor</span><span class='lparen'>(</span><span class='id identifier rubyid_non_working_week_days'>non_working_week_days</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='id identifier rubyid_wday'>wday</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>150</span> <span class='op'>:</span> <span class='int'>0</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_width'>width</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_day_name'>day_name</span><span class='lparen'>(</span><span class='id identifier rubyid_wday'>wday</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>C</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>+</span> <span class='id identifier rubyid_width'>width</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>+</span> <span class='int'>1</span>
      <span class='id identifier rubyid_wday'>wday</span> <span class='op'>=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_wday'>wday</span> <span class='op'>&gt;</span> <span class='int'>7</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetY</span><span class='lparen'>(</span><span class='id identifier rubyid_y_start'>y_start</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetX</span><span class='lparen'>(</span><span class='int'>15</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetTextColor</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_subject_width'>subject_width</span> <span class='op'>+</span> <span class='id identifier rubyid_g_width'>g_width</span> <span class='op'>-</span> <span class='int'>15</span><span class='comma'>,</span> <span class='id identifier rubyid_headers_height'>headers_height</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='comment'># Tasks
</span>  <span class='id identifier rubyid_top'>top</span> <span class='op'>=</span> <span class='id identifier rubyid_headers_height'>headers_height</span> <span class='op'>+</span> <span class='id identifier rubyid_y_start'>y_start</span>
  <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='symbol'>:top</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_top'>top</span><span class='comma'>,</span>
    <span class='symbol'>:zoom</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_zoom'>zoom</span><span class='comma'>,</span>
    <span class='symbol'>:subject_width</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_subject_width'>subject_width</span><span class='comma'>,</span>
    <span class='symbol'>:g_width</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_g_width'>g_width</span><span class='comma'>,</span>
    <span class='symbol'>:indent</span> <span class='op'>=&gt;</span> <span class='int'>0</span><span class='comma'>,</span>
    <span class='symbol'>:indent_increment</span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span>
    <span class='symbol'>:top_increment</span> <span class='op'>=&gt;</span> <span class='int'>5</span><span class='comma'>,</span>
    <span class='symbol'>:format</span> <span class='op'>=&gt;</span> <span class='symbol'>:pdf</span><span class='comma'>,</span>
    <span class='symbol'>:pdf</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_pdf'>pdf</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_render'>render</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>Output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="version_issues-instance_method">
  
    #<strong>version_issues</strong>(project, version)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the issues that belong to <code>project</code> and are assigned to
<code>version</code></p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>1.2.0</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/helpers/gantt.rb', line 190</span>

<span class='kw'>def</span> <span class='id identifier rubyid_version_issues'>version_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_version'>version</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_project_issues'>project_issues</span><span class='lparen'>(</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='op'>|</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_fixed_version'>fixed_version</span> <span class='op'>==</span> <span class='id identifier rubyid_version'>version</span><span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Dec 15 01:28:32 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.5.3).
</div>

    </div>
  </body>
</html>