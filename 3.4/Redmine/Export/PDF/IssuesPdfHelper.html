<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Module: Redmine::Export::PDF::IssuesPdfHelper
  
    &mdash; Documentation by YARD 0.9.16
  
</title>

  <link rel="stylesheet" href="../../../css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="../../../css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  pathId = "Redmine::Export::PDF::IssuesPdfHelper";
  relpath = '../../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../../_index.html">Index (I)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../../Redmine.html" title="Redmine (module)">Redmine</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../../Export.html" title="Redmine::Export (module)">Export</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../PDF.html" title="Redmine::Export::PDF (module)">PDF</a></span></span>
     &raquo; 
    <span class="title">IssuesPdfHelper</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Module: Redmine::Export::PDF::IssuesPdfHelper
  
  
  
</h1>
<div class="box_info">
  

  
  
  
  
  

  
  <dl>
    <dt>Included in:</dt>
    <dd><span class='object_link'><a href="../../../IssuesHelper.html" title="IssuesHelper (module)">IssuesHelper</a></span></dd>
  </dl>
  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/redmine/export/pdf/issues_pdf_helper.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Since:</p>
<ul class="since">
  
    <li>
      
      
      
      
        
        <div class='inline'>
<p>3.0.0</p>
</div>
      
    </li>
  
</ul>

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#calc_col_width-instance_method" title="#calc_col_width (instance method)">#<strong>calc_col_width</strong>(issues, query, table_width, pdf)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>calculate columns width.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#fetch_row_values-instance_method" title="#fetch_row_values (instance method)">#<strong>fetch_row_values</strong>(issue, query, level)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>fetch row values.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#get_issues_to_pdf_write_cells-instance_method" title="#get_issues_to_pdf_write_cells (instance method)">#<strong>get_issues_to_pdf_write_cells</strong>(pdf, col_values, col_widths, head = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>returns the maximum height of MultiCells.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#is_cjk%3F-instance_method" title="#is_cjk? (instance method)">#<strong>is_cjk?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#issue_to_pdf-instance_method" title="#issue_to_pdf (instance method)">#<strong>issue_to_pdf</strong>(issue, assoc = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a PDF string of a single issue.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#issues_to_pdf-instance_method" title="#issues_to_pdf (instance method)">#<strong>issues_to_pdf</strong>(issues, project, query)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns a PDF string of a list of issues.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#issues_to_pdf_draw_borders-instance_method" title="#issues_to_pdf_draw_borders (instance method)">#<strong>issues_to_pdf_draw_borders</strong>(pdf, top_x, top_y, lower_y, col_id_width, col_widths, rtl = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Draw lines to close the row (MultiCell border drawing in not uniform).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#issues_to_pdf_write_cells-instance_method" title="#issues_to_pdf_write_cells (instance method)">#<strong>issues_to_pdf_write_cells</strong>(pdf, col_values, col_widths, row_height, head = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Renders MultiCells and returns the maximum height used.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#render_table_header-instance_method" title="#render_table_header (instance method)">#<strong>render_table_header</strong>(pdf, query, col_width, row_height, table_width)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="calc_col_width-instance_method">
  
    #<strong>calc_col_width</strong>(issues, query, table_width, pdf)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>calculate columns width</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
450
451
452
453
454
455
456
457
458
459
460
461
462
463
464
465
466
467
468
469
470
471
472
473
474
475
476
477
478
479
480
481
482
483
484
485
486
487
488
489
490
491
492
493
494
495
496
497
498</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 396</span>

<span class='kw'>def</span> <span class='id identifier rubyid_calc_col_width'>calc_col_width</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='comma'>,</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='rparen'>)</span>
  <span class='comment'># calculate statistics
</span>  <span class='comment'>#  by captions
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_margins'>margins</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_margins'>get_margins</span>
  <span class='id identifier rubyid_col_padding'>col_padding</span> <span class='op'>=</span> <span class='id identifier rubyid_margins'>margins</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>cell</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_col_width_min'>col_width_min</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_col_width_max'>col_width_max</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_col_width_min'>col_width_min</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_width_avg'>col_width_avg</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../../../Array.html" title="Array (class)">Array</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_col_width_min'>col_width_min</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>OO</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span> <span class='op'>*</span> <span class='int'>2</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>*</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>*</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>O</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span> <span class='op'>*</span> <span class='int'>2</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>*</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>-=</span> <span class='id identifier rubyid_col_min'>col_min</span> <span class='op'>*</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>=</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>/</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>*</span> <span class='id identifier rubyid_ratio'>ratio</span><span class='rbrace'>}</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_word_width_max'>word_width_max</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_c'>c</span><span class='op'>|</span>
    <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='int'>10</span>
    <span class='id identifier rubyid_c'>c</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span>
      <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='id identifier rubyid_w'>w</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='kw'>if</span> <span class='id identifier rubyid_n'>n</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_x'>x</span>
    <span class='rbrace'>}</span>
    <span class='id identifier rubyid_n'>n</span>
  <span class='rbrace'>}</span>

  <span class='comment'>#  by properties of issues
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_k'>k</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_issue_list'>issue_list</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='op'>|</span>
    <span class='id identifier rubyid_k'>k</span> <span class='op'>+=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_values'>values</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_row_values'>fetch_row_values</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_values'>values</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='id identifier rubyid_n'>n</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='id identifier rubyid_v'>v</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span> <span class='op'>*</span> <span class='int'>2</span>
      <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span> <span class='kw'>if</span> <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_n'>n</span>
      <span class='id identifier rubyid_col_width_min'>col_width_min</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_n'>n</span> <span class='kw'>if</span> <span class='id identifier rubyid_col_width_min'>col_width_min</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_n'>n</span>
      <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>+=</span> <span class='id identifier rubyid_n'>n</span>
      <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_split'>split</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span>
        <span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_width'>get_string_width</span><span class='lparen'>(</span><span class='id identifier rubyid_w'>w</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_col_padding'>col_padding</span>
        <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_x'>x</span> <span class='kw'>if</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_x'>x</span>
      <span class='rbrace'>}</span>
    <span class='rbrace'>}</span>
  <span class='rbrace'>}</span>
  <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_x'>x</span><span class='op'>|</span> <span class='id identifier rubyid_x'>x</span> <span class='op'>/</span> <span class='id identifier rubyid_k'>k</span><span class='rbrace'>}</span>

  <span class='comment'># calculate columns width
</span>  <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>=</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>/</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width_avg'>col_width_avg</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>*</span> <span class='id identifier rubyid_ratio'>ratio</span><span class='rbrace'>}</span>

  <span class='comment'># correct max word width if too many columns
</span>  <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>=</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>/</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='id identifier rubyid_ratio'>ratio</span><span class='rbrace'>}</span> <span class='kw'>if</span> <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>&lt;</span> <span class='int'>1</span>

  <span class='comment'># correct and lock width of some columns
</span>  <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_col_fix'>col_fix</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1</span>
      <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>0</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='comment'># iterate while need to correct and lock coluns width
</span>  <span class='kw'>while</span> <span class='id identifier rubyid_done'>done</span> <span class='op'>==</span> <span class='int'>0</span>
    <span class='comment'># calculate free &amp; locked columns width
</span>    <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>1</span>
    <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>=</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>/</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>

    <span class='comment'># correct columns width
</span>    <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>==</span> <span class='int'>0</span>
        <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>*</span> <span class='id identifier rubyid_ratio'>ratio</span>

        <span class='comment'># check if column width less then max word width
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_word_width_max'>word_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_col_width'>col_width</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width_max'>col_width_max</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_col_fix'>col_fix</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='int'>1</span>
          <span class='id identifier rubyid_done'>done</span> <span class='op'>=</span> <span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>=</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>/</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_map!'>map!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span> <span class='op'>*</span> <span class='id identifier rubyid_ratio'>ratio</span> <span class='op'>+</span> <span class='id identifier rubyid_col_min'>col_min</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_col_width'>col_width</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="fetch_row_values-instance_method">
  
    #<strong>fetch_row_values</strong>(issue, query, level)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>fetch row values</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


370
371
372
373
374
375
376
377
378
379
380
381
382
383
384
385
386
387
388
389
390
391
392
393</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 370</span>

<span class='kw'>def</span> <span class='id identifier rubyid_fetch_row_values'>fetch_row_values</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='op'>|</span>
    <span class='id identifier rubyid_s'>s</span> <span class='op'>=</span> <span class='kw'>if</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../QueryCustomFieldColumn.html" title="QueryCustomFieldColumn (class)">QueryCustomFieldColumn</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_cv'>cv</span> <span class='op'>=</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_visible_custom_field_values'>visible_custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_detect'>detect</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_v'>v</span><span class='op'>|</span> <span class='id identifier rubyid_v'>v</span><span class='period'>.</span><span class='id identifier rubyid_custom_field_id'>custom_field_id</span> <span class='op'>==</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_custom_field'>custom_field</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbrace'>}</span>
      <span class='id identifier rubyid_show_value'>show_value</span><span class='lparen'>(</span><span class='id identifier rubyid_cv'>cv</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_send'>send</span><span class='lparen'>(</span><span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
      <span class='kw'>when</span> <span class='symbol'>:subject</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>+</span> <span class='id identifier rubyid_value'>value</span>
      <span class='kw'>when</span> <span class='symbol'>:attachments</span>
        <span class='id identifier rubyid_value'>value</span> <span class='op'>=</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_to_a'>to_a</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\n</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../Date.html" title="Date (class)">Date</a></span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_is_a?'>is_a?</span><span class='lparen'>(</span><span class='const'>Time</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_format_time'>format_time</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_value'>value</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_s'>s</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="get_issues_to_pdf_write_cells-instance_method">
  
    #<strong>get_issues_to_pdf_write_cells</strong>(pdf, col_values, col_widths, head = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>returns the maximum height of MultiCells</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


519
520
521
522
523
524
525</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 519</span>

<span class='kw'>def</span> <span class='id identifier rubyid_get_issues_to_pdf_write_cells'>get_issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_col_values'>col_values</span><span class='comma'>,</span> <span class='id identifier rubyid_col_widths'>col_widths</span><span class='comma'>,</span> <span class='id identifier rubyid_head'>head</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_heights'>heights</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_col_values'>col_values</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_height'>get_string_height</span><span class='lparen'>(</span><span class='id identifier rubyid_col_widths'>col_widths</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_head'>head</span> <span class='op'>?</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span> <span class='op'>:</span> <span class='id identifier rubyid_column'>column</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_heights'>heights</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_cjk?-instance_method">
  
    #<strong>is_cjk?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


360
361
362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 360</span>

<span class='kw'>def</span> <span class='id identifier rubyid_is_cjk?'>is_cjk?</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_current_language'>current_language</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span>
  <span class='kw'>when</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ja</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zh-tw</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>zh</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ko</span><span class='tstring_end'>&#39;</span></span>
    <span class='kw'>true</span>
  <span class='kw'>else</span>
    <span class='kw'>false</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="issue_to_pdf-instance_method">
  
    #<strong>issue_to_pdf</strong>(issue, assoc = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a PDF string of a single issue</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82
83
84
85
86
87
88
89
90
91
92
93
94
95
96
97
98
99
100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206
207
208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 25</span>

<span class='kw'>def</span> <span class='id identifier rubyid_issue_to_pdf'>issue_to_pdf</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_assoc'>assoc</span><span class='op'>=</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ITCPDF.html" title="Redmine::Export::PDF::ITCPDF (class)">ITCPDF</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ITCPDF.html#initialize-instance_method" title="Redmine::Export::PDF::ITCPDF#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_current_language'>current_language</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_title'>set_title</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_tracker'>tracker</span><span class='embexpr_end'>}</span><span class='tstring_content'> #</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_alias_nb_pages'>alias_nb_pages</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_footer_date'>footer_date</span> <span class='op'>=</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_add_page'>add_page</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>11</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_tracker'>tracker</span><span class='embexpr_end'>}</span><span class='tstring_content'> #</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_base_x'>base_x</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_x'>get_x</span>
  <span class='id identifier rubyid_i'>i</span> <span class='op'>=</span> <span class='int'>1</span>
  <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_ancestors'>ancestors</span><span class='period'>.</span><span class='id identifier rubyid_visible'>visible</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='op'>|</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_x'>set_x</span><span class='lparen'>(</span><span class='id identifier rubyid_base_x'>base_x</span> <span class='op'>+</span> <span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='period'>.</span><span class='id identifier rubyid_tracker'>tracker</span><span class='embexpr_end'>}</span><span class='tstring_content'> # </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='embexpr_end'>}</span><span class='tstring_content'>): </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_ancestor'>ancestor</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>190</span> <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_buf'>buf</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_i'>i</span> <span class='op'>+=</span> <span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='int'>35</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>11</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>190</span> <span class='op'>-</span> <span class='id identifier rubyid_i'>i</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_time'>format_time</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_created_on'>created_on</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_author'>author</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
  
  <span class='id identifier rubyid_left'>left</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_status</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_priority</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_priority'>priority</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_assigned_to</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_assigned_to'>assigned_to</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>assigned_to_id</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_category</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_category'>category</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>category_id</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_fixed_version</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_fixed_version'>fixed_version</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>fixed_version_id</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  
  <span class='id identifier rubyid_right'>right</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_start_date</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>start_date</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_due_date</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>due_date</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_done_ratio</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_done_ratio'>done_ratio</span><span class='embexpr_end'>}</span><span class='tstring_content'>%</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>done_ratio</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_estimated_hours</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_l_hours'>l_hours</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_estimated_hours'>estimated_hours</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_disabled_core_fields'>disabled_core_fields</span><span class='period'>.</span><span class='id identifier rubyid_include?'>include?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>estimated_hours</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_spent_time</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_l_hours'>l_hours</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_total_spent_hours'>total_spent_hours</span><span class='rparen'>)</span><span class='rbracket'>]</span> <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_allowed_to?'>allowed_to?</span><span class='lparen'>(</span><span class='symbol'>:view_time_entries</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
  
  <span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_right'>right</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>?</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_right'>right</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_rows'>rows</span>
    <span class='id identifier rubyid_left'>left</span> <span class='op'>&lt;&lt;</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='kw'>while</span> <span class='id identifier rubyid_right'>right</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_rows'>rows</span>
    <span class='id identifier rubyid_right'>right</span> <span class='op'>&lt;&lt;</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_custom_field_values'>custom_field_values</span> <span class='op'>=</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_visible_custom_field_values'>visible_custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_reject'>reject</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_custom_field'>custom_field</span><span class='period'>.</span><span class='id identifier rubyid_full_width_layout?'>full_width_layout?</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_half'>half</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='id identifier rubyid_custom_field_values'>custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>/</span> <span class='float'>2.0</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_ceil'>ceil</span>
  <span class='id identifier rubyid_custom_field_values'>custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_custom_value'>custom_value</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>&lt;</span> <span class='id identifier rubyid_half'>half</span> <span class='op'>?</span> <span class='id identifier rubyid_left'>left</span> <span class='op'>:</span> <span class='id identifier rubyid_right'>right</span><span class='rparen'>)</span> <span class='op'>&lt;&lt;</span> <span class='lbracket'>[</span><span class='id identifier rubyid_custom_value'>custom_value</span><span class='period'>.</span><span class='id identifier rubyid_custom_field'>custom_field</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='id identifier rubyid_show_value'>show_value</span><span class='lparen'>(</span><span class='id identifier rubyid_custom_value'>custom_value</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  
  <span class='kw'>if</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_rtl'>get_rtl</span>
    <span class='id identifier rubyid_border_first_top'>border_first_top</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RT</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_last_top'>border_last_top</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_first'>border_first</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_last'>border_last</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_border_first_top'>border_first_top</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LT</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_last_top'>border_last_top</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RT</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_first'>border_first</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span>
    <span class='id identifier rubyid_border_last'>border_last</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_rows'>rows</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_right'>right</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>?</span> <span class='id identifier rubyid_left'>left</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>:</span> <span class='id identifier rubyid_right'>right</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span>
  <span class='id identifier rubyid_rows'>rows</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_height'>get_string_height</span><span class='lparen'>(</span><span class='int'>35</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_right'>right</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_height'>get_string_height</span><span class='lparen'>(</span><span class='int'>35</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_height'>get_string_height</span><span class='lparen'>(</span><span class='int'>60</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>  <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_right'>right</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_heights'>heights</span> <span class='op'>&lt;&lt;</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_string_height'>get_string_height</span><span class='lparen'>(</span><span class='int'>60</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>  <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_height'>height</span> <span class='op'>=</span> <span class='id identifier rubyid_heights'>heights</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
  
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_left'>left</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_border_first_top'>border_first_top</span> <span class='op'>:</span> <span class='id identifier rubyid_border_first'>border_first</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>60</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_border_last_top'>border_last_top</span> <span class='op'>:</span> <span class='id identifier rubyid_border_last'>border_last</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
  
    <span class='id identifier rubyid_item'>item</span> <span class='op'>=</span> <span class='id identifier rubyid_right'>right</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='embexpr_end'>}</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>  <span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_border_first_top'>border_first_top</span> <span class='op'>:</span> <span class='id identifier rubyid_border_first'>border_first</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>60</span><span class='comma'>,</span> <span class='id identifier rubyid_height'>height</span><span class='comma'>,</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>?</span> <span class='id identifier rubyid_item'>item</span><span class='period'>.</span><span class='id identifier rubyid_last'>last</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span> <span class='op'>==</span> <span class='int'>0</span> <span class='op'>?</span> <span class='id identifier rubyid_border_last_top'>border_last_top</span> <span class='op'>:</span> <span class='id identifier rubyid_border_last'>border_last</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>2</span><span class='rparen'>)</span>
  
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_x'>set_x</span><span class='lparen'>(</span><span class='id identifier rubyid_base_x'>base_x</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_description</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
  
  <span class='comment'># Set resize image scale
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_image_scale'>set_image_scale</span><span class='lparen'>(</span><span class='float'>1.6</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_textilizable'>textilizable</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='symbol'>:description</span><span class='comma'>,</span>
    <span class='symbol'>:only_path</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:edit_section_links</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:headings</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
    <span class='symbol'>:inline_attachments</span> <span class='op'>=&gt;</span> <span class='kw'>false</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteFormattedCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRB</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>

  <span class='id identifier rubyid_custom_field_values'>custom_field_values</span> <span class='op'>=</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_visible_custom_field_values'>visible_custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_custom_field'>custom_field</span><span class='period'>.</span><span class='id identifier rubyid_full_width_layout?'>full_width_layout?</span><span class='rbrace'>}</span>
  <span class='id identifier rubyid_custom_field_values'>custom_field_values</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_value'>value</span><span class='op'>|</span>
    <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_show_value'>show_value</span><span class='lparen'>(</span><span class='id identifier rubyid_value'>value</span><span class='comma'>,</span> <span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_text'>text</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>

    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_value'>value</span><span class='period'>.</span><span class='id identifier rubyid_custom_field'>custom_field</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRT</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteHTMLCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRB</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='kw'>unless</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_leaf?'>leaf?</span>
    <span class='id identifier rubyid_truncate_length'>truncate_length</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_is_cjk?'>is_cjk?</span> <span class='op'>?</span> <span class='int'>90</span> <span class='op'>:</span> <span class='int'>65</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_subtask_plural</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='id identifier rubyid_issue_list'>issue_list</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_descendants'>descendants</span><span class='period'>.</span><span class='id identifier rubyid_visible'>visible</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:lft</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_child'>child</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='op'>|</span>
      <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_tracker'>tracker</span><span class='embexpr_end'>}</span><span class='tstring_content'> # </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='period'>.</span>
              <span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_truncate_length'>truncate_length</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_level'>level</span> <span class='op'>=</span> <span class='int'>10</span> <span class='kw'>if</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>&gt;=</span> <span class='int'>10</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>135</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='lparen'>(</span><span class='id identifier rubyid_level'>level</span> <span class='op'>&gt;=</span><span class='int'>1</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_level'>level</span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>+</span> <span class='id identifier rubyid_buf'>buf</span><span class='comma'>,</span> <span class='id identifier rubyid_border_first'>border_first</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_child'>child</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_border_last'>border_last</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='id identifier rubyid_relations'>relations</span> <span class='op'>=</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_relations'>relations</span><span class='period'>.</span><span class='id identifier rubyid_select'>select</span> <span class='lbrace'>{</span> <span class='op'>|</span><span class='id identifier rubyid_r'>r</span><span class='op'>|</span> <span class='id identifier rubyid_r'>r</span><span class='period'>.</span><span class='id identifier rubyid_other_issue'>other_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_visible?'>visible?</span> <span class='rbrace'>}</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_relations'>relations</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_truncate_length'>truncate_length</span> <span class='op'>=</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_is_cjk?'>is_cjk?</span> <span class='op'>?</span> <span class='int'>80</span> <span class='op'>:</span> <span class='int'>60</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_related_issues</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>:</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LTR</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='id identifier rubyid_relations'>relations</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_relation'>relation</span><span class='op'>|</span>
      <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_other'>other</span><span class='op'>|</span>
        <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="../../../Setting.html" title="Setting (class)">Setting</a></span></span><span class='period'>.</span><span class='id identifier rubyid_cross_project_issue_relations?'>cross_project_issue_relations?</span>
          <span class='id identifier rubyid_text'>text</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_other_issue'>other_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='tstring_end'>&quot;</span></span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_text'>text</span> <span class='op'>+=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_tracker'>tracker</span><span class='embexpr_end'>}</span><span class='tstring_content'> #</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_other'>other</span><span class='period'>.</span><span class='id identifier rubyid_subject'>subject</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
        <span class='id identifier rubyid_text'>text</span>
      <span class='rbrace'>}</span>
      <span class='id identifier rubyid_buf'>buf</span> <span class='op'>=</span> <span class='id identifier rubyid_buf'>buf</span><span class='period'>.</span><span class='id identifier rubyid_truncate'>truncate</span><span class='lparen'>(</span><span class='id identifier rubyid_truncate_length'>truncate_length</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>35</span><span class='op'>+</span><span class='int'>155</span><span class='op'>-</span><span class='int'>60</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_buf'>buf</span><span class='comma'>,</span> <span class='id identifier rubyid_border_first'>border_first</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_other_issue'>other_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_other_issue'>other_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_start_date'>start_date</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_relation'>relation</span><span class='period'>.</span><span class='id identifier rubyid_other_issue'>other_issue</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_due_date'>due_date</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_border_last'>border_last</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>T</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
  
  <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_changesets'>changesets</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span> <span class='op'>&amp;&amp;</span>
       <span class='const'><span class='object_link'><a href="../../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_allowed_to?'>allowed_to?</span><span class='lparen'>(</span><span class='symbol'>:view_changesets</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_project'>project</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_associated_revisions</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_changeset'>changeset</span> <span class='kw'>in</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_changesets'>changesets</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_csstr'>csstr</span>  <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_revision</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_changeset'>changeset</span><span class='period'>.</span><span class='id identifier rubyid_format_identifier'>format_identifier</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_csstr'>csstr</span> <span class='op'>+=</span> <span class='id identifier rubyid_format_time'>format_time</span><span class='lparen'>(</span><span class='id identifier rubyid_changeset'>changeset</span><span class='period'>.</span><span class='id identifier rubyid_committed_on'>committed_on</span><span class='rparen'>)</span> <span class='op'>+</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> - </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_changeset'>changeset</span><span class='period'>.</span><span class='id identifier rubyid_author'>author</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_csstr'>csstr</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
      <span class='kw'>unless</span> <span class='id identifier rubyid_changeset'>changeset</span><span class='period'>.</span><span class='id identifier rubyid_comments'>comments</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteHTMLCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span>
              <span class='id identifier rubyid_changeset'>changeset</span><span class='period'>.</span><span class='id identifier rubyid_comments'>comments</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='kw'>if</span> <span class='id identifier rubyid_assoc'>assoc</span><span class='lbracket'>[</span><span class='symbol'>:journals</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_history</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='id identifier rubyid_assoc'>assoc</span><span class='lbracket'>[</span><span class='symbol'>:journals</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_journal'>journal</span><span class='op'>|</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>#</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_indice'>indice</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_format_time'>format_time</span><span class='lparen'>(</span><span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_created_on'>created_on</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_user'>user</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_title'>title</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:field_private_notes</span><span class='rparen'>)</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_private_notes?'>private_notes?</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>I</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_details_to_strings'>details_to_strings</span><span class='lparen'>(</span><span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_visible_details'>visible_details</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_string'>string</span><span class='op'>|</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>- </span><span class='tstring_end'>&quot;</span></span> <span class='op'>+</span> <span class='id identifier rubyid_string'>string</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_notes?'>notes?</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span> <span class='kw'>unless</span> <span class='id identifier rubyid_journal'>journal</span><span class='period'>.</span><span class='id identifier rubyid_details'>details</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_text'>text</span> <span class='op'>=</span> <span class='id identifier rubyid_textilizable'>textilizable</span><span class='lparen'>(</span><span class='id identifier rubyid_journal'>journal</span><span class='comma'>,</span> <span class='symbol'>:notes</span><span class='comma'>,</span>
          <span class='symbol'>:only_path</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
          <span class='symbol'>:edit_section_links</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
          <span class='symbol'>:headings</span> <span class='op'>=&gt;</span> <span class='kw'>false</span><span class='comma'>,</span>
          <span class='symbol'>:inline_attachments</span> <span class='op'>=&gt;</span> <span class='kw'>false</span>
        <span class='rparen'>)</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteFormattedCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_text'>text</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='kw'>if</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_attachment_plural</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>B</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_attachment'>attachment</span> <span class='kw'>in</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>80</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_attachment'>attachment</span><span class='period'>.</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>20</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_number_to_human_size'>number_to_human_size</span><span class='lparen'>(</span><span class='id identifier rubyid_attachment'>attachment</span><span class='period'>.</span><span class='id identifier rubyid_filesize'>filesize</span><span class='rparen'>)</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>25</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='id identifier rubyid_attachment'>attachment</span><span class='period'>.</span><span class='id identifier rubyid_created_on'>created_on</span><span class='rparen'>)</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>65</span><span class='comma'>,</span><span class='int'>5</span><span class='comma'>,</span> <span class='id identifier rubyid_attachment'>attachment</span><span class='period'>.</span><span class='id identifier rubyid_author'>author</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>R</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="issues_to_pdf-instance_method">
  
    #<strong>issues_to_pdf</strong>(issues, project, query)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a PDF string of a list of issues</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328
329
330
331
332
333
334
335
336
337
338
339
340
341
342
343
344
345
346
347
348
349
350
351
352
353
354
355
356
357
358</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 255</span>

<span class='kw'>def</span> <span class='id identifier rubyid_issues_to_pdf'>issues_to_pdf</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_project'>project</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ITCPDF.html" title="Redmine::Export::PDF::ITCPDF (class)">ITCPDF</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="ITCPDF.html#initialize-instance_method" title="Redmine::Export::PDF::ITCPDF#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_current_language'>current_language</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_new_record?'>new_record?</span> <span class='op'>?</span> <span class='id identifier rubyid_l'>l</span><span class='lparen'>(</span><span class='symbol'>:label_issue_plural</span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
  <span class='id identifier rubyid_title'>title</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_project'>project</span><span class='embexpr_end'>}</span><span class='tstring_content'> - </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_title'>title</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='id identifier rubyid_project'>project</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_title'>set_title</span><span class='lparen'>(</span><span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_alias_nb_pages'>alias_nb_pages</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_footer_date'>footer_date</span> <span class='op'>=</span> <span class='id identifier rubyid_format_date'>format_date</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../../User.html" title="User (class)">User</a></span></span><span class='period'>.</span><span class='id identifier rubyid_current'><span class='object_link'><a href="../../../User.html#current-class_method" title="User.current (method)">current</a></span></span><span class='period'>.</span><span class='id identifier rubyid_today'>today</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_auto_page_break'>set_auto_page_break</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_add_page'>add_page</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  
  <span class='comment'># Landscape A4 = 210 x 297 mm
</span>  <span class='id identifier rubyid_page_height'>page_height</span>   <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_page_height'>get_page_height</span> <span class='comment'># 210
</span>  <span class='id identifier rubyid_page_width'>page_width</span>    <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_page_width'>get_page_width</span>  <span class='comment'># 297
</span>  <span class='id identifier rubyid_left_margin'>left_margin</span>   <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_original_margins'>get_original_margins</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>left</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='comment'># 10
</span>  <span class='id identifier rubyid_right_margin'>right_margin</span>  <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_original_margins'>get_original_margins</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>right</span><span class='tstring_end'>&#39;</span></span><span class='rbracket'>]</span> <span class='comment'># 10
</span>  <span class='id identifier rubyid_bottom_margin'>bottom_margin</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_footer_margin'>get_footer_margin</span>
  <span class='id identifier rubyid_row_height'>row_height</span>    <span class='op'>=</span> <span class='int'>4</span>
  
  <span class='comment'># column widths
</span>  <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>=</span> <span class='id identifier rubyid_page_width'>page_width</span> <span class='op'>-</span> <span class='id identifier rubyid_right_margin'>right_margin</span> <span class='op'>-</span> <span class='id identifier rubyid_left_margin'>left_margin</span>
  <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>unless</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='period'>.</span><span class='id identifier rubyid_empty?'>empty?</span>
    <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='id identifier rubyid_calc_col_width'>calc_col_width</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='comma'>,</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='comment'># use full width if the description or last_notes are displayed
</span>  <span class='kw'>if</span> <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>&gt;</span> <span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_has_column?'>has_column?</span><span class='lparen'>(</span><span class='symbol'>:description</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_has_column?'>has_column?</span><span class='lparen'>(</span><span class='symbol'>:last_notes</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_col_width'>col_width</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_w'>w</span><span class='op'>|</span> <span class='id identifier rubyid_w'>w</span> <span class='op'>*</span> <span class='lparen'>(</span><span class='id identifier rubyid_page_width'>page_width</span> <span class='op'>-</span> <span class='id identifier rubyid_right_margin'>right_margin</span> <span class='op'>-</span> <span class='id identifier rubyid_left_margin'>left_margin</span><span class='rparen'>)</span> <span class='op'>/</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='rbrace'>}</span>
    <span class='id identifier rubyid_table_width'>table_width</span> <span class='op'>=</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='period'>.</span><span class='id identifier rubyid_inject'>inject</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='symbol'>:+</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  
  <span class='comment'># title
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>11</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>190</span><span class='comma'>,</span> <span class='int'>8</span><span class='comma'>,</span> <span class='id identifier rubyid_title'>title</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_ln'>ln</span>

  <span class='comment'># totals
</span>  <span class='id identifier rubyid_totals'>totals</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_totals'>totals</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_total'>total</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_totals'>totals</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>10</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_table_width'>table_width</span><span class='comma'>,</span> <span class='int'>6</span><span class='comma'>,</span> <span class='id identifier rubyid_totals'>totals</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>R</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_totals_by_group'>totals_by_group</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_totals_by_group'>totals_by_group</span>
  <span class='id identifier rubyid_render_table_header'>render_table_header</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_previous_group'>previous_group</span> <span class='op'>=</span> <span class='kw'>false</span>
  <span class='id identifier rubyid_result_count_by_group'>result_count_by_group</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_result_count_by_group'>result_count_by_group</span>

  <span class='id identifier rubyid_issue_list'>issue_list</span><span class='lparen'>(</span><span class='id identifier rubyid_issues'>issues</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_grouped?'>grouped?</span> <span class='op'>&amp;&amp;</span>
         <span class='lparen'>(</span><span class='id identifier rubyid_group'>group</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_group_by_column'>group_by_column</span><span class='period'>.</span><span class='id identifier rubyid_value'>value</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='rparen'>)</span><span class='rparen'>)</span> <span class='op'>!=</span> <span class='id identifier rubyid_previous_group'>previous_group</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>10</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_group_label'>group_label</span> <span class='op'>=</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_blank?'>blank?</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>None</span><span class='tstring_end'>&#39;</span></span> <span class='op'>:</span> <span class='id identifier rubyid_group'>group</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='period'>.</span><span class='id identifier rubyid_dup'>dup</span>
      <span class='id identifier rubyid_group_label'>group_label</span> <span class='op'>&lt;&lt;</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_result_count_by_group'>result_count_by_group</span><span class='lbracket'>[</span><span class='id identifier rubyid_group'>group</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_bookmark'>bookmark</span> <span class='id identifier rubyid_group_label'>group_label</span><span class='comma'>,</span> <span class='int'>0</span><span class='comma'>,</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_table_width'>table_width</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span> <span class='op'>*</span> <span class='int'>2</span><span class='comma'>,</span> <span class='id identifier rubyid_group_label'>group_label</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LR</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>

      <span class='id identifier rubyid_totals'>totals</span> <span class='op'>=</span> <span class='id identifier rubyid_totals_by_group'>totals_by_group</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_total'>total</span><span class='op'>|</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span><span class='embexpr_end'>}</span><span class='tstring_content'>: </span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_total'>total</span><span class='lbracket'>[</span><span class='id identifier rubyid_group'>group</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_end'>&quot;</span></span><span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_join'>join</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>  </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_totals'>totals</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
        <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='id identifier rubyid_table_width'>table_width</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_totals'>totals</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>LR</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>L</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_previous_group'>previous_group</span> <span class='op'>=</span> <span class='id identifier rubyid_group'>group</span>
    <span class='kw'>end</span>
  
    <span class='comment'># fetch row values
</span>    <span class='id identifier rubyid_col_values'>col_values</span> <span class='op'>=</span> <span class='id identifier rubyid_fetch_row_values'>fetch_row_values</span><span class='lparen'>(</span><span class='id identifier rubyid_issue'>issue</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
  
    <span class='comment'># make new page if it doesn&#39;t fit on the current one
</span>    <span class='id identifier rubyid_base_y'>base_y</span>     <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_y'>get_y</span>
    <span class='id identifier rubyid_max_height'>max_height</span> <span class='op'>=</span> <span class='id identifier rubyid_get_issues_to_pdf_write_cells'>get_issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_col_values'>col_values</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_space_left'>space_left</span> <span class='op'>=</span> <span class='id identifier rubyid_page_height'>page_height</span> <span class='op'>-</span> <span class='id identifier rubyid_base_y'>base_y</span> <span class='op'>-</span> <span class='id identifier rubyid_bottom_margin'>bottom_margin</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_max_height'>max_height</span> <span class='op'>&gt;</span> <span class='id identifier rubyid_space_left'>space_left</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_add_page'>add_page</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_render_table_header'>render_table_header</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_base_y'>base_y</span> <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_y'>get_y</span>
    <span class='kw'>end</span>
  
    <span class='comment'># write the cells on page
</span>    <span class='id identifier rubyid_issues_to_pdf_write_cells'>issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_col_values'>col_values</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='id identifier rubyid_max_height'>max_height</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_y'>set_y</span><span class='lparen'>(</span><span class='id identifier rubyid_base_y'>base_y</span> <span class='op'>+</span> <span class='id identifier rubyid_max_height'>max_height</span><span class='rparen'>)</span>
  
    <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_has_column?'>has_column?</span><span class='lparen'>(</span><span class='symbol'>:description</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_description?'>description?</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_x'>set_x</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_auto_page_break'>set_auto_page_break</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_bottom_margin'>bottom_margin</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteHTMLCell</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_description'>description</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_attachments'>attachments</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRBT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_auto_page_break'>set_auto_page_break</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
    <span class='kw'>end</span>

    <span class='kw'>if</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_has_column?'>has_column?</span><span class='lparen'>(</span><span class='symbol'>:last_notes</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_last_notes'>last_notes</span><span class='period'>.</span><span class='id identifier rubyid_present?'>present?</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_x'>set_x</span><span class='lparen'>(</span><span class='int'>10</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_auto_page_break'>set_auto_page_break</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span> <span class='id identifier rubyid_bottom_margin'>bottom_margin</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMwriteHTMLCell</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='int'>5</span><span class='comma'>,</span> <span class='int'>10</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_issue'>issue</span><span class='period'>.</span><span class='id identifier rubyid_last_notes'>last_notes</span><span class='period'>.</span><span class='id identifier rubyid_to_s'>to_s</span><span class='comma'>,</span> <span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>LRBT</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_auto_page_break'>set_auto_page_break</span><span class='lparen'>(</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='kw'>end</span>
  
  <span class='kw'>if</span> <span class='id identifier rubyid_issues'>issues</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span> <span class='op'>==</span> <span class='const'><span class='object_link'><a href="../../../Setting.html" title="Setting (class)">Setting</a></span></span><span class='period'>.</span><span class='id identifier rubyid_issues_export_limit'>issues_export_limit</span><span class='period'>.</span><span class='id identifier rubyid_to_i'>to_i</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>10</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMCell</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>...</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_output'>output</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="issues_to_pdf_draw_borders-instance_method">
  
    #<strong>issues_to_pdf_draw_borders</strong>(pdf, top_x, top_y, lower_y, col_id_width, col_widths, rtl = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Draw lines to close the row (MultiCell border drawing in not uniform)</p>

<pre class="code ruby"><code class="ruby">parameter &quot;col_id_width&quot; is not used. it is kept for compatibility.</code></pre>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


537
538
539
540
541
542
543
544
545
546
547
548
549
550
551</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 537</span>

<span class='kw'>def</span> <span class='id identifier rubyid_issues_to_pdf_draw_borders'>issues_to_pdf_draw_borders</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_top_x'>top_x</span><span class='comma'>,</span> <span class='id identifier rubyid_top_y'>top_y</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='comma'>,</span>
                               <span class='id identifier rubyid_col_id_width'>col_id_width</span><span class='comma'>,</span> <span class='id identifier rubyid_col_widths'>col_widths</span><span class='comma'>,</span> <span class='id identifier rubyid_rtl'>rtl</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_x'>col_x</span> <span class='op'>=</span> <span class='id identifier rubyid_top_x'>top_x</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_col_x'>col_x</span><span class='comma'>,</span> <span class='id identifier rubyid_top_y'>top_y</span><span class='comma'>,</span> <span class='id identifier rubyid_col_x'>col_x</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='rparen'>)</span>    <span class='comment'># id right border
</span>  <span class='id identifier rubyid_col_widths'>col_widths</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_width'>width</span><span class='op'>|</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_rtl'>rtl</span>
      <span class='id identifier rubyid_col_x'>col_x</span> <span class='op'>-=</span> <span class='id identifier rubyid_width'>width</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_col_x'>col_x</span> <span class='op'>+=</span> <span class='id identifier rubyid_width'>width</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_col_x'>col_x</span><span class='comma'>,</span> <span class='id identifier rubyid_top_y'>top_y</span><span class='comma'>,</span> <span class='id identifier rubyid_col_x'>col_x</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='rparen'>)</span>  <span class='comment'># columns right border
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_top_x'>top_x</span><span class='comma'>,</span> <span class='id identifier rubyid_top_y'>top_y</span><span class='comma'>,</span> <span class='id identifier rubyid_top_x'>top_x</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='rparen'>)</span>    <span class='comment'># left border
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_line'>line</span><span class='lparen'>(</span><span class='id identifier rubyid_top_x'>top_x</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='comma'>,</span> <span class='id identifier rubyid_col_x'>col_x</span><span class='comma'>,</span> <span class='id identifier rubyid_lower_y'>lower_y</span><span class='rparen'>)</span>  <span class='comment'># bottom border
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="issues_to_pdf_write_cells-instance_method">
  
    #<strong>issues_to_pdf_write_cells</strong>(pdf, col_values, col_widths, row_height, head = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Renders MultiCells and returns the maximum height used</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530
531
532</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_issues_to_pdf_write_cells'>issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_col_values'>col_values</span><span class='comma'>,</span> <span class='id identifier rubyid_col_widths'>col_widths</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_head'>head</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_col_values'>col_values</span><span class='period'>.</span><span class='id identifier rubyid_each_with_index'>each_with_index</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_column'>column</span><span class='comma'>,</span> <span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
    <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>RDMMultiCell</span><span class='lparen'>(</span><span class='id identifier rubyid_col_widths'>col_widths</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_head'>head</span> <span class='op'>?</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_caption'>caption</span> <span class='op'>:</span> <span class='id identifier rubyid_column'>column</span><span class='period'>.</span><span class='id identifier rubyid_strip'>strip</span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='int'>1</span><span class='comma'>,</span> <span class='int'>0</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_table_header-instance_method">
  
    #<strong>render_table_header</strong>(pdf, query, col_width, row_height, table_width)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


500
501
502
503
504
505
506
507
508
509
510
511
512
513
514
515
516</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/redmine/export/pdf/issues_pdf_helper.rb', line 500</span>

<span class='kw'>def</span> <span class='id identifier rubyid_render_table_header'>render_table_header</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='id identifier rubyid_row_height'>row_height</span><span class='comma'>,</span> <span class='id identifier rubyid_table_width'>table_width</span><span class='rparen'>)</span>
  <span class='comment'># headers
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>B</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_fill_color'>set_fill_color</span><span class='lparen'>(</span><span class='int'>230</span><span class='comma'>,</span> <span class='int'>230</span><span class='comma'>,</span> <span class='int'>230</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_base_x'>base_x</span>     <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_x'>get_x</span>
  <span class='id identifier rubyid_base_y'>base_y</span>     <span class='op'>=</span> <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_get_y'>get_y</span>
  <span class='id identifier rubyid_max_height'>max_height</span> <span class='op'>=</span> <span class='id identifier rubyid_get_issues_to_pdf_write_cells'>get_issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>

  <span class='comment'># write the cells on page
</span>  <span class='id identifier rubyid_issues_to_pdf_write_cells'>issues_to_pdf_write_cells</span><span class='lparen'>(</span><span class='id identifier rubyid_pdf'>pdf</span><span class='comma'>,</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_inline_columns'>inline_columns</span><span class='comma'>,</span> <span class='id identifier rubyid_col_width'>col_width</span><span class='comma'>,</span> <span class='id identifier rubyid_max_height'>max_height</span><span class='comma'>,</span> <span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_xy'>set_xy</span><span class='lparen'>(</span><span class='id identifier rubyid_base_x'>base_x</span><span class='comma'>,</span> <span class='id identifier rubyid_base_y'>base_y</span> <span class='op'>+</span> <span class='id identifier rubyid_max_height'>max_height</span><span class='rparen'>)</span>

  <span class='comment'># rows
</span>  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='const'>SetFontStyle</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span><span class='int'>8</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pdf'>pdf</span><span class='period'>.</span><span class='id identifier rubyid_set_fill_color'>set_fill_color</span><span class='lparen'>(</span><span class='int'>255</span><span class='comma'>,</span> <span class='int'>255</span><span class='comma'>,</span> <span class='int'>255</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Sat Dec 15 01:32:27 2018 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.16 (ruby-2.5.3).
</div>

    </div>
  </body>
</html>